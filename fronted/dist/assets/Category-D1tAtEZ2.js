import{_ as k,r as m,J as e,o as w,a as i,b as s,A as I,B as D,F,p as B,E as L,K as M,H as S,I as $,L as x,M as z,N as T,O as V,P as A,Q as E,R as N,S as P,T as R,U as h,V as O,W,X as q,Y as G,Z as H,$ as J,h as K,l as r,q as y,d as l,g as _,C as Q,a0 as U,t as p,m as X,u as v,n as Y}from"./index-CVtMBCR-.js";import{g as Z}from"./category-Dl-TNAnC.js";import{g as j}from"./article-Ca6dUp2M.js";const aa={class:"category-page"},ea={class:"content-container"},sa={class:"category-grid"},ta=["onClick"],oa={class:"category-icon"},na={class:"card-body"},ra={class:"category-name"},la={class:"category-desc"},ca={class:"category-footer"},ia={class:"article-count"},da={__name:"Category",setup(ua){const g=m([]),d=m(!0),u={Folder:e(J),Platform:e(H),Monitor:e(G),Cpu:e(q),Coin:e(W),Setting:e(O),Document:e(h),DataAnalysis:e(R),Collection:e(P),Grid:e(N),List:e(E),Menu:e(A),Operation:e(V),Tools:e(T),Connection:e(z),Link:e(x),Share:e($),Star:e(S),Trophy:e(M)},f=t=>t&&u[t]||u.Folder,C=async()=>{d.value=!0;try{const t=await Z({page:1,size:100}),n=await Promise.all((t.list||[]).map(async a=>{try{const c=await j({categoryId:a.id,page:1,size:1});return{id:a.id,name:a.name,slug:a.slug,description:a.description||a.name+"相关技术文章",count:c.total||0,bgImage:"https://picsum.photos/id/"+a.id%100+"/400/300",icon:f(a.icon||"Folder")}}catch{return{id:a.id,name:a.name,slug:a.slug,description:a.description||a.name+"相关技术文章",count:0,bgImage:"https://picsum.photos/id/"+a.id%100+"/400/300",icon:f(a.icon||"Folder")}}}));g.value=n}catch(t){console.error("加载分类失败:",t),L.error("加载分类失败")}finally{d.value=!1}};return w(()=>{C()}),(t,n)=>{const a=K("el-icon"),c=D("loading");return r(),i("div",aa,[n[1]||(n[1]=s("div",{class:"page-banner"},[s("div",{class:"banner-content"},[s("h1",{class:"page-title"},"文章分类"),s("p",{class:"page-subtitle"},"Browse articles by category")])],-1)),I((r(),i("div",ea,[s("div",sa,[(r(!0),i(F,null,B(g.value,(o,b)=>(r(),i("div",{key:o.id,class:"category-card",style:y({animationDelay:`${b*.08}s`}),onClick:_a=>t.$router.push(`/category/${o.slug}`)},[s("div",{class:"card-header",style:y({backgroundImage:`url(${o.bgImage})`})},[n[0]||(n[0]=s("div",{class:"card-overlay"},null,-1)),s("div",oa,[l(a,{size:28},{default:_(()=>[(r(),Q(U(o.icon)))]),_:2},1024)])],4),s("div",na,[s("h3",ra,p(o.name),1),s("p",la,p(o.description),1),s("div",ca,[s("span",ia,[l(a,null,{default:_(()=>[l(v(h))]),_:1}),X(" "+p(o.count)+" 篇文章 ",1)]),l(a,{class:"arrow-icon"},{default:_(()=>[l(v(Y))]),_:1})])])],12,ta))),128))])])),[[c,d.value]])])}}},ma=k(da,[["__scopeId","data-v-fe9b434c"]]);export{ma as default};
