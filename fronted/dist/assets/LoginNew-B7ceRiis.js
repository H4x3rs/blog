import{_ as L,r as m,af as $,o as S,a as u,e as g,b as a,F as N,p as U,d as l,g as n,h as r,m as f,ag as I,E as d,k as E,j as F,l as p,q as D,u as x,a7 as R,ad as q,ah as G,ai as H}from"./index-85xZPJNu.js";const K={class:"login-container"},O={class:"decorative-dots"},T={class:"login-card"},j={class:"form-options"},J={key:0},P={key:1},Q={class:"social-login"},W=["disabled"],X=["disabled"],Y=["disabled"],Z={class:"login-footer"},e3={class:"footer-text"},a3={__name:"LoginNew",setup(s3){const b=E(),M=F(),c=m(!1),i=m(!1),h=m(!1),o=$({username:"",password:""}),_=async()=>{if(!o.username||!o.password){d.warning("请输入用户名和密码");return}c.value=!0;try{const s=await H({username:o.username,password:o.password});if(s&&s.token){localStorage.setItem("token",s.token),localStorage.setItem("username",s.username),s.nickname&&localStorage.setItem("nickname",s.nickname),s.avatar&&localStorage.setItem("avatar",s.avatar),d.success("登录成功！");const e=M.query.redirect||"/admin/dashboard";b.push(e)}else d.error("登录失败，请检查用户名和密码")}catch(s){d.error(s.message||"登录失败，请重试")}finally{c.value=!1}},v=async s=>{i.value=!0;try{const e=await I(s);e&&e.redirectUrl?window.location.href=e.redirectUrl:(d.error("获取登录链接失败"),i.value=!1)}catch(e){d.error(e.message||"登录失败，请重试"),i.value=!1}},C=()=>{b.push("/register")};S(()=>{});const V=s=>{const e=Math.random()*4+2;return{width:`${e}px`,height:`${e}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*3+2}s`}};return(s,e)=>{const w=r("el-input"),k=r("el-form-item"),z=r("el-checkbox"),y=r("el-link"),A=r("el-button"),B=r("el-form");return p(),u("div",K,[e[15]||(e[15]=g('<div class="bg-animation" data-v-e3b1a0c6><div class="shape shape-1" data-v-e3b1a0c6></div><div class="shape shape-2" data-v-e3b1a0c6></div><div class="shape shape-3" data-v-e3b1a0c6></div><div class="shape shape-4" data-v-e3b1a0c6></div></div>',1)),a("div",O,[(p(),u(N,null,U(50,t=>a("span",{key:t,class:"dot",style:D(V())},null,4)),64))]),a("div",T,[e[13]||(e[13]=g('<div class="login-header" data-v-e3b1a0c6><div class="logo-wrapper" data-v-e3b1a0c6><div class="logo-icon" data-v-e3b1a0c6><span class="logo-letter" data-v-e3b1a0c6>B</span><div class="logo-ring" data-v-e3b1a0c6></div></div></div><h1 class="main-title" data-v-e3b1a0c6>欢迎回来</h1></div>',1)),l(B,{model:o,class:"login-form",size:"large"},{default:n(()=>[l(k,null,{default:n(()=>[l(w,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),placeholder:"用户名 / admin","prefix-icon":x(R),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),l(k,null,{default:n(()=>[l(w,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),type:"password",placeholder:"密码 / 123456","prefix-icon":x(G),"show-password":"",class:"custom-input",onKeyup:q(_,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),a("div",j,[l(z,{modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=t=>h.value=t),class:"remember-checkbox"},{default:n(()=>[...e[6]||(e[6]=[a("span",{class:"checkbox-label"},"记住登录状态",-1)])]),_:1},8,["modelValue"]),l(y,{type:"primary",underline:!1,class:"forgot-link"},{default:n(()=>[...e[7]||(e[7]=[f(" 忘记密码？ ",-1)])]),_:1})]),l(A,{type:"primary",class:"login-button",loading:c.value,onClick:_},{default:n(()=>[c.value?(p(),u("span",P,"登录中...")):(p(),u("span",J,"立即登录"))]),_:1},8,["loading"])]),_:1},8,["model"]),e[14]||(e[14]=a("div",{class:"divider"},[a("span",{class:"divider-text"},"或使用以下方式登录")],-1)),a("div",Q,[a("button",{class:"social-btn github",onClick:e[3]||(e[3]=t=>v("github")),disabled:i.value},[...e[8]||(e[8]=[a("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"20",height:"20"},[a("path",{d:"M512 42.666667A464.64 464.64 0 0 0 42.666667 502.186667 460.373333 460.373333 0 0 0 363.52 938.666667c23.466667 4.266667 32-9.813333 32-22.186667v-78.08c-130.56 27.733333-158.293333-61.44-158.293333-61.44a122.026667 122.026667 0 0 0-52.053334-67.413333c-42.666667-28.16 3.413333-27.733333 3.413334-27.733334a98.56 98.56 0 0 1 71.68 47.36 101.12 101.12 0 0 0 136.533333 37.973334 99.413333 99.413333 0 0 1 29.866667-61.44c-104.106667-11.52-213.333333-50.773333-213.333334-226.986667a177.066667 177.066667 0 0 1 47.36-124.16 161.28 161.28 0 0 1 4.693334-121.173333s39.68-12.373333 128 46.933333a455.68 455.68 0 0 1 234.666666 0c89.6-59.306667 128-46.933333 128-46.933333a161.28 161.28 0 0 1 4.693334 121.173333A177.066667 177.066667 0 0 1 810.666667 477.866667c0 176.64-110.08 215.466667-213.333334 226.986666a106.666667 106.666667 0 0 1 32 85.333334v125.866666c0 14.933333 8.533333 26.88 32 22.186667A460.8 460.8 0 0 0 981.333333 502.186667 464.64 464.64 0 0 0 512 42.666667",fill:"currentColor"})],-1),a("span",null,"GitHub",-1)])],8,W),a("button",{class:"social-btn google",onClick:e[4]||(e[4]=t=>v("google")),disabled:i.value},[...e[9]||(e[9]=[g('<svg class="icon" viewBox="0 0 1024 1024" width="20" height="20" data-v-e3b1a0c6><path d="M214.101333 512c0-32.512 5.546667-63.701333 15.36-92.928L57.173333 290.218667A491.861333 491.861333 0 0 0 4.693333 512c0 79.701333 18.858667 154.88 52.394667 221.610667l172.202667-129.066667A290.56 290.56 0 0 1 214.101333 512" fill="#FBBC05" data-v-e3b1a0c6></path><path d="M516.693333 216.192c72.106667 0 136.533333 26.624 187.221334 70.144l140.629333-140.629333C747.605333 59.690667 638.762667 20.608 516.693333 20.608c-202.325333 0-376.234667 113.28-459.52 278.613333l172.373334 128.853334c39.68-118.016 152.832-211.882667 287.146666-211.882667" fill="#EA4335" data-v-e3b1a0c6></path><path d="M516.693333 807.808c-134.357333 0-247.509333-93.866667-287.232-211.882667L57.088 724.992C140.416 890.325333 314.325333 1003.605333 516.693333 1003.605333c117.76 0 225.28-38.4 300.928-104.106666l-146.688-113.152c-40.96 27.392-93.653333 43.52-154.24 43.52" fill="#34A853" data-v-e3b1a0c6></path><path d="M1005.397333 512c0-29.568-4.693333-61.44-11.648-91.008H516.650667V614.4h274.602666c-13.696 65.962667-51.072 116.650667-104.533333 149.632l146.645333 113.152c85.845333-79.36 140.032-195.84 140.032-365.184" fill="#4285F4" data-v-e3b1a0c6></path></svg><span data-v-e3b1a0c6>Google</span>',2)])],8,X),a("button",{class:"social-btn wechat",onClick:e[5]||(e[5]=t=>v("wechat")),disabled:i.value},[...e[10]||(e[10]=[a("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"20",height:"20"},[a("path",{d:"M664.250054 368.541681c10.015098 0 19.892049 0.732687 29.67281 1.795902-26.647917-122.810047-159.358451-214.077703-310.826188-214.077703-169.353083 0-308.085774 114.232694-308.085774 259.274068 0 83.708416 46.165436 152.460695 123.281791 205.78483l-30.80868 91.730191 107.688651-53.455469c38.558178 7.53665 69.459978 15.308661 107.924012 15.308661 9.66308 0 19.230958-0.470721 28.752858-1.225921-6.025227-20.36584-9.521864-41.723264-9.521864-63.862493C402.328693 476.632491 517.908058 368.541681 664.250054 368.541681zM498.62897 285.87389c23.200398 0 38.557154 15.120372 38.557154 38.061874 0 22.846334-15.356756 38.156018-38.557154 38.156018-23.107277 0-46.260603-15.309684-46.260603-38.156018C452.368366 300.994262 475.522716 285.87389 498.62897 285.87389zM283.016307 362.090758c-23.107277 0-46.402843-15.309684-46.402843-38.156018 0-22.941502 23.295566-38.061874 46.402843-38.061874 23.081695 0 38.46301 15.120372 38.46301 38.061874C321.479317 346.782098 306.098002 362.090758 283.016307 362.090758zM945.448458 606.151333c0-121.888048-123.258255-221.236753-261.683954-221.236753-146.57838 0-262.015505 99.348706-262.015505 221.236753 0 122.06508 115.437126 221.200938 262.015505 221.200938 30.66644 0 61.617359-7.609305 92.423993-15.262685l84.513836 45.786813-23.178909-76.17082C899.379213 735.776599 945.448458 674.90216 945.448458 606.151333zM598.803483 567.994292c-15.332197 0-30.807656-15.096836-30.807656-30.501688 0-15.190981 15.47546-30.477129 30.807656-30.477129 23.295566 0 38.558178 15.286148 38.558178 30.477129C637.361661 552.897456 622.099049 567.994292 598.803483 567.994292zM768.25071 567.994292c-15.213493 0-30.594809-15.096836-30.594809-30.501688 0-15.190981 15.381315-30.477129 30.594809-30.477129 23.107277 0 38.558178 15.286148 38.558178 30.477129C806.808888 552.897456 791.357987 567.994292 768.25071 567.994292z",fill:"currentColor"})],-1),a("span",null,"微信",-1)])],8,Y)]),a("div",Z,[a("p",e3,[e[12]||(e[12]=f(" 还没有账号？ ",-1)),l(y,{type:"primary",class:"register-link",underline:!1,onClick:C},{default:n(()=>[...e[11]||(e[11]=[f(" 立即注册 ",-1)])]),_:1})])])])])}}},o3=L(a3,[["__scopeId","data-v-e3b1a0c6"]]);export{o3 as default};
