import{_ as h,r as v,af as C,a as R,b as t,e as B,d as r,g as l,h as i,m as c,k as E,l as U,u as d,a7 as q,ad as w,ah as V,aj as N,ac as K,ak as S,E as g}from"./index-Cyn0SW9k.js";const T={class:"register-container"},j={class:"register-wrapper"},z={class:"register-right"},I={class:"register-box"},L={class:"register-footer"},M={__name:"Register",setup(A){const _=E(),u=v(null),m=v(!1),s=C({username:"",password:"",confirmPassword:"",nickname:"",email:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度必须在3-20个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度必须在6-20个字符之间",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(f,e,a)=>{e===""?a(new Error("请再次输入密码")):e!==s.password?a(new Error("两次输入的密码不一致")):a()},trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},p=async()=>{u.value&&await u.value.validate(async f=>{if(f){m.value=!0;try{const e=await S({username:s.username,password:s.password,nickname:s.nickname||void 0,email:s.email});e&&e.id?(g.success("注册成功，请登录"),_.push("/login-new")):g.error("注册失败")}catch(e){g.error(e.message||"注册失败，请稍后重试")}finally{m.value=!1}}})},b=()=>{_.push("/login-new")};return(f,e)=>{const a=i("el-input"),n=i("el-form-item"),k=i("el-button"),y=i("el-form"),P=i("el-link");return U(),R("div",T,[t("div",j,[e[9]||(e[9]=B('<div class="register-left" data-v-017edfef><div class="register-left-mask" data-v-017edfef></div><div class="register-left-content" data-v-017edfef><div class="brand-logo" data-v-017edfef><span class="logo-icon" data-v-017edfef>B</span></div><h2 class="brand-title" data-v-017edfef>Blog System</h2><p class="brand-desc" data-v-017edfef>加入我们，开启你的创作之旅。<br data-v-017edfef>分享知识，激发创意。</p></div></div>',1)),t("div",z,[t("div",I,[e[8]||(e[8]=t("div",{class:"register-header"},[t("h2",null,"创建账号"),t("p",null,"填写以下信息完成注册")],-1)),r(y,{ref_key:"formRef",ref:u,model:s,rules:x,class:"register-form",size:"large"},{default:l(()=>[r(n,{prop:"username"},{default:l(()=>[r(a,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=o=>s.username=o),placeholder:"用户名（3-20个字符）","prefix-icon":d(q),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),r(n,{prop:"password"},{default:l(()=>[r(a,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=o=>s.password=o),type:"password",placeholder:"密码（6-20个字符）","prefix-icon":d(V),onKeyup:w(p,["enter"]),"show-password":"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),r(n,{prop:"confirmPassword"},{default:l(()=>[r(a,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=o=>s.confirmPassword=o),type:"password",placeholder:"确认密码","prefix-icon":d(V),onKeyup:w(p,["enter"]),"show-password":"",class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),r(n,{prop:"nickname"},{default:l(()=>[r(a,{modelValue:s.nickname,"onUpdate:modelValue":e[3]||(e[3]=o=>s.nickname=o),placeholder:"昵称（可选）","prefix-icon":d(N),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),r(n,{prop:"email"},{default:l(()=>[r(a,{modelValue:s.email,"onUpdate:modelValue":e[4]||(e[4]=o=>s.email=o),placeholder:"邮箱","prefix-icon":d(K),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),r(n,null,{default:l(()=>[r(k,{type:"primary",onClick:p,class:"submit-btn",loading:m.value},{default:l(()=>[...e[5]||(e[5]=[c(" 注 册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),t("div",L,[t("p",null,[e[7]||(e[7]=c("已有账号？ ",-1)),r(P,{type:"primary",onClick:b,class:"login-link"},{default:l(()=>[...e[6]||(e[6]=[c("立即登录",-1)])]),_:1})])])])])])])}}},G=h(M,[["__scopeId","data-v-017edfef"]]);export{G as default};
